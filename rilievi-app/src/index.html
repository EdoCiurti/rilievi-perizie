<!DOCTYPE html>
<html lang="it" class="md">
<head>
  <meta charset="utf-8">
  <title>Rilievi & Perizie</title>
  <base href="./">
  <meta name="color-scheme" content="light only"> <!-- Forza solo tema chiaro -->
  <meta name="viewport" content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="format-detection" content="telephone=no">
  <meta name="msapplication-tap-highlight" content="no">
  <link rel="icon" type="image/png" href="assets/icon/favicon.png">
  
  <!-- Stili critici per garantire la visualizzazione corretta -->
  <style>
    body {
      background-color: #ffffff;
      color: #000000;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    }
    
    ion-content {
      --background: #f5f5f5 !important;
    }
    
    ion-item {
      --background: white !important;
      --border-color: #d7d7d7 !important;
    }
    
    ion-input, ion-textarea {
      --background: white !important;
      --color: black !important;
      border: 1px solid #d7d7d7 !important;
      border-radius: 8px !important;
      margin: 8px 0 !important;
      --padding-start: 10px !important;
      --padding-end: 10px !important;
    }
    
    ion-button {
      --background: #0054e9 !important;
      --color: white !important;
      margin: 16px 0 !important;
      height: 48px !important;
    }
    
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
  </style>
  
  <!-- Aggiungi questo script di debug -->
  <script>
    console.log('App inizializzazione...');
    window.onerror = function(message, source, lineno, colno, error) {
      console.error('Errore globale:', message, error);
      document.body.innerHTML += '<div style="color:red;padding:20px;background:#fff;position:fixed;top:0;left:0;right:0;z-index:9999">Errore: ' + message + '</div>';
      return false;
    };
  </script>
</head>

<body>
  <app-root></app-root>
  <!-- Aggiungi un contenuto di fallback -->
  <div id="loading-indicator" style="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;">
    <div style="font-size:24px;margin-bottom:20px;">Caricamento app...</div>
    <div style="width:50px;height:50px;border:5px solid #ccc;border-top-color:#0054e9;border-radius:50%;animation:spin 1s linear infinite;margin:0 auto;"></div>
  </div>

  <script>
    // Rimuovi l'indicatore di caricamento quando l'app Ã¨ pronta
    document.addEventListener('DOMContentLoaded', function() {
      setTimeout(function() {
        if (document.querySelector('ion-router-outlet')) {
          document.getElementById('loading-indicator').style.display = 'none';
        }
      }, 5000);
    });
  </script>
</body>
</html>
